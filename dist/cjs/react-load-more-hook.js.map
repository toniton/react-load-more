{"version":3,"file":"react-load-more-hook.js","sources":["../react-load-more-hook.js"],"sourcesContent":["define([\"require\", \"exports\", \"react\"], function (require, exports, react_1) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.useLoadMore = function (callback, componentRef) {\n        var _a = react_1.useState(false), isLoadingMore = _a[0], setIsLoadingMore = _a[1];\n        var setIsLoadingMoreOnScroll = function (ref) { return function () {\n            var current = ref.current;\n            var documentElement = document.documentElement, body = document.body;\n            var windowOffset = window.innerHeight + documentElement.scrollTop;\n            var tableOffset = current ? current.scrollHeight : body.offsetHeight;\n            if (windowOffset < tableOffset || isLoadingMore) {\n                return;\n            }\n            setIsLoadingMore(true);\n        }; };\n        react_1.useEffect(function () {\n            var handleScroll = setIsLoadingMoreOnScroll(componentRef);\n            window.addEventListener(\"scroll\", handleScroll, { passive: true });\n            return function () { return window.removeEventListener(\"scroll\", handleScroll); };\n        }, []);\n        react_1.useEffect(function () {\n            if (!isLoadingMore) {\n                return;\n            }\n            callback();\n        }, [isLoadingMore]);\n        return [isLoadingMore, setIsLoadingMore];\n    };\n    exports.default = { useLoadMore: exports.useLoadMore };\n});\n//# sourceMappingURL=react-load-more-hook.js.map"],"names":[],"mappings":";;AAAA,MAAM,CAAC,CAAC,SAAS,EAAE,SAAS,EAAE,OAAO,CAAC,EAAE,UAAU,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE;AAC7E,AACA,IAAI,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,YAAY,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;IAC9D,OAAO,CAAC,WAAW,GAAG,UAAU,QAAQ,EAAE,YAAY,EAAE;QACpD,IAAI,EAAE,GAAG,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,aAAa,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,gBAAgB,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;QAClF,IAAI,wBAAwB,GAAG,UAAU,GAAG,EAAE,EAAE,OAAO,YAAY;YAC/D,IAAI,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC;YAC1B,IAAI,eAAe,GAAG,QAAQ,CAAC,eAAe,EAAE,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;YACrE,IAAI,YAAY,GAAG,MAAM,CAAC,WAAW,GAAG,eAAe,CAAC,SAAS,CAAC;YAClE,IAAI,WAAW,GAAG,OAAO,GAAG,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;YACrE,IAAI,YAAY,GAAG,WAAW,IAAI,aAAa,EAAE;gBAC7C,OAAO;aACV;YACD,gBAAgB,CAAC,IAAI,CAAC,CAAC;SAC1B,CAAC,EAAE,CAAC;QACL,OAAO,CAAC,SAAS,CAAC,YAAY;YAC1B,IAAI,YAAY,GAAG,wBAAwB,CAAC,YAAY,CAAC,CAAC;YAC1D,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,YAAY,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;YACnE,OAAO,YAAY,EAAE,OAAO,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC,EAAE,CAAC;SACrF,EAAE,EAAE,CAAC,CAAC;QACP,OAAO,CAAC,SAAS,CAAC,YAAY;YAC1B,IAAI,CAAC,aAAa,EAAE;gBAChB,OAAO;aACV;YACD,QAAQ,EAAE,CAAC;SACd,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC;QACpB,OAAO,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAAC;KAC5C,CAAC;IACF,OAAO,CAAC,OAAO,GAAG,EAAE,WAAW,EAAE,OAAO,CAAC,WAAW,EAAE,CAAC;CAC1D,CAAC,CAAC"}